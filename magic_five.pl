%5Ã—5 magic square
%?- magic(A,B,C,D,E).
magic([A1,A2,A3,A4,A5],[B1,B2,B3,B4,B5],[C1,C2,C3,C4,C5],[D1,D2,D3,D4,D5],[E1,E2,E3,E4,E5]) :-
select(A1,[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25],L1),
select(A2,L1,L2),
select(A3,L2,L3),
select(A4,L3,L4),
select(A5,L4,L5),
A1+A2+A3+A4+A5=:=65,
select(B1,L5,L6),
select(C1,L6,L7),
select(D1,L7,L8),
select(E1,L8,L9),
A1+B1+C1+D1+E1=:=65,
select(B2,L9,L10),
select(B3,L10,L11),
select(B4,L11,L12),
select(B5,L12,L13),
B1+B2+B3+B4+B5=:=65,
select(C2,L13,L14),
select(D2,L14,L15),
select(E2,L15,L16),
A2+B2+C2+D2+E2=:=65,
select(C3,L16,L17),
select(C4,L17,L18),
select(C5,L18,L19),
C1+C2+C3+C4+C5=:=65,
select(D3,L19,L20),
select(E3,L20,L21),
A3+B3+C3+D3+E3=:=65,
select(D4,L21,L22),
select(D5,L22,L23),
D1+D2+D3+D4+D5=:=65,
select(E4,L23,L24),
A4+B4+C4+D4+E4=:=65,
select(E5,L24,[]).